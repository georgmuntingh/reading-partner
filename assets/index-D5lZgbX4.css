*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}:root{--primary-color: #4f46e5;--primary-hover: #4338ca;--bg-color: #f8fafc;--surface-color: #ffffff;--text-color: #1e293b;--text-secondary: #64748b;--border-color: #e2e8f0;--highlight-bg: #fef3c7;--highlight-border: #f59e0b;--error-color: #ef4444;--success-color: #22c55e;--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--radius-sm: .375rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-full: 9999px;--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .05);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1);--header-height: 56px;--controls-height: 120px}html{font-size:16px;-webkit-text-size-adjust:100%}body{font-family:var(--font-family);font-size:var(--font-size-base);line-height:1.6;color:var(--text-color);background-color:var(--bg-color);min-height:100vh;overflow-x:hidden}#app{min-height:100vh;display:flex;flex-direction:column}.screen{display:none;flex-direction:column;min-height:100vh}.screen.active{display:flex}.hidden{display:none!important}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.btn{display:inline-flex;align-items:center;justify-content:center;padding:var(--spacing-sm) var(--spacing-lg);font-size:var(--font-size-base);font-weight:500;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;text-decoration:none}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background-color:var(--primary-color);color:#fff}.btn-primary:hover:not(:disabled){background-color:var(--primary-hover)}.btn-secondary{background-color:var(--surface-color);color:var(--text-color);border:1px solid var(--border-color)}.btn-secondary:hover:not(:disabled){background-color:var(--bg-color)}.btn-icon{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;padding:0;background:transparent;border:none;border-radius:var(--radius-full);cursor:pointer;color:var(--text-color);transition:background-color .2s ease}.btn-icon:hover:not(:disabled){background-color:var(--border-color)}.btn-icon:disabled{opacity:.4;cursor:not-allowed}.spinner{width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--primary-color);border-radius:50%;animation:spin .8s linear infinite}.loading{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md);padding:var(--spacing-xl)}.tts-status{position:fixed;bottom:var(--spacing-lg);left:50%;transform:translate(-50%);display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);background-color:var(--surface-color);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);z-index:1000}.tts-status .spinner{width:24px;height:24px;border-width:2px}.tts-status p{font-size:var(--font-size-sm);color:var(--text-secondary)}@media(max-width:480px){:root{--spacing-lg: 1rem;--spacing-xl: 1.5rem}}@media(pointer:coarse){.btn-icon{min-width:48px;min-height:48px}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.reader-header{position:fixed;top:0;left:0;right:0;height:var(--header-height);display:flex;align-items:center;justify-content:space-between;padding:0 var(--spacing-sm);background-color:var(--surface-color);border-bottom:1px solid var(--border-color);z-index:100}.book-title{flex:1;text-align:center;font-size:var(--font-size-base);font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 var(--spacing-sm)}.reader-content{height:calc(100vh - var(--header-height) - var(--controls-height));margin-top:var(--header-height);padding:var(--spacing-md) var(--spacing-lg);overflow:hidden;display:flex;flex-direction:column}.chapter-title{font-size:var(--font-size-xl);font-weight:600;margin-bottom:var(--spacing-md);color:var(--text-color);flex-shrink:0}.text-content{max-width:65ch;width:100%;flex:1;min-height:0;margin:0 auto;overflow:hidden;position:relative;padding:0 50px;box-sizing:border-box;line-height:1.8}.page-container{flex:1;display:flex;flex-direction:column;position:relative;overflow:hidden;min-height:0}.page-nav-btn{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;display:flex;align-items:center;justify-content:center;background-color:var(--surface-color);border:1px solid var(--border-color);border-radius:var(--radius-full);cursor:pointer;z-index:10;transition:all .2s ease;opacity:.7;box-shadow:0 2px 8px #0000001a}.page-nav-btn:hover:not(:disabled){opacity:1;background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.page-nav-btn:disabled{opacity:.3;cursor:not-allowed}.page-nav-prev{left:0}.page-nav-next{right:0}.page-indicator{text-align:center;padding:var(--spacing-xs) 0;font-size:var(--font-size-sm);color:var(--text-secondary);-webkit-user-select:none;user-select:none;flex-shrink:0}.page-number-overlay{position:absolute;bottom:20px;right:30px;font-size:var(--font-size-sm);color:var(--text-secondary);-webkit-user-select:none;user-select:none;pointer-events:none;opacity:.7;font-style:italic;z-index:10}.epub-content{max-width:65ch;margin:0 auto;line-height:1.8}.epub-content p{margin-bottom:var(--spacing-md);text-indent:0}.epub-content h1,.epub-content h2,.epub-content h3,.epub-content h4,.epub-content h5,.epub-content h6{margin-top:var(--spacing-xl);margin-bottom:var(--spacing-md);font-weight:600;line-height:1.3}.epub-content h1{font-size:1.8em}.epub-content h2{font-size:1.5em}.epub-content h3{font-size:1.3em}.epub-content h4{font-size:1.1em}.epub-content h5{font-size:1em}.epub-content h6{font-size:.9em}.epub-content blockquote{margin:var(--spacing-md) 0;padding:var(--spacing-sm) var(--spacing-md);border-left:4px solid var(--border-color);color:var(--text-secondary);font-style:italic}.epub-content ul,.epub-content ol{margin:var(--spacing-md) 0;padding-left:var(--spacing-xl)}.epub-content li{margin-bottom:var(--spacing-xs)}.epub-content strong,.epub-content b{font-weight:600}.epub-content em,.epub-content i{font-style:italic}.epub-content img{max-width:100%;height:auto;display:block;margin:var(--spacing-lg) auto;border-radius:var(--radius-md)}.epub-content figure{margin:var(--spacing-lg) 0;text-align:center}.epub-content figcaption{margin-top:var(--spacing-sm);font-size:var(--font-size-sm);color:var(--text-secondary);font-style:italic}.epub-content svg{max-width:100%;height:auto;display:block;margin:var(--spacing-md) auto}.epub-content table{width:100%;border-collapse:collapse;margin:var(--spacing-md) 0}.epub-content th,.epub-content td{padding:var(--spacing-sm);border:1px solid var(--border-color);text-align:left}.epub-content th{background-color:var(--surface-color);font-weight:600}.epub-content a{color:var(--primary-color);text-decoration:none;cursor:pointer}.epub-content a:hover{text-decoration:underline}.link-target{background-color:#ffc8004d;outline:2px solid rgba(255,200,0,.5);outline-offset:2px;border-radius:2px;transition:background-color 2s ease-out,outline-color 2s ease-out}.epub-content pre,.epub-content code{font-family:monospace;background-color:var(--surface-color);border-radius:var(--radius-sm)}.epub-content code{padding:2px 4px;font-size:.9em}.epub-content pre{padding:var(--spacing-sm);overflow-x:auto;margin:var(--spacing-md) 0}.epub-content pre code{padding:0;background:none}.epub-content hr{border:none;border-top:1px solid var(--border-color);margin:var(--spacing-xl) 0}.sentence{display:inline;padding:2px 0;border-radius:2px;transition:background-color .2s ease,box-shadow .2s ease;cursor:pointer}.sentence:hover{background-color:#4f46e51a}.sentence.current{background-color:var(--highlight-bg);box-shadow:0 0 0 2px var(--highlight-border)}.sentence.played{color:var(--text-secondary)}.paragraph{margin-bottom:var(--spacing-lg);line-height:1.8}.reader-controls{position:fixed;bottom:0;left:0;right:0;background-color:var(--surface-color);border-top:1px solid var(--border-color);padding:var(--spacing-md);z-index:100}.controls-row{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.btn-play{display:flex;align-items:center;justify-content:center;width:64px;height:64px;background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--radius-full);cursor:pointer;transition:background-color .2s ease,transform .1s ease;margin:0 var(--spacing-sm)}.btn-play:hover:not(:disabled){background-color:var(--primary-hover)}.btn-play:active:not(:disabled){transform:scale(.95)}.btn-play:disabled{opacity:.5;cursor:not-allowed}.btn-play.buffering{position:relative;pointer-events:none}.btn-play.buffering:after{content:"";position:absolute;width:32px;height:32px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.btn-ask{color:var(--primary-color)}.controls-settings{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:0 var(--spacing-md)}.setting-row{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm)}.setting-label{font-size:var(--font-size-sm);color:var(--text-secondary);min-width:45px;text-align:right}.voice-select{flex:1;max-width:200px;padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-sm);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--surface-color);color:var(--text-color);cursor:pointer}.voice-select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #4f46e51a}.speed-value{font-size:var(--font-size-sm);font-weight:500;min-width:3ch}#speed-slider{flex:1;max-width:150px;accent-color:var(--primary-color)}.speed-row{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm)}.speed-label{font-size:var(--font-size-sm);color:var(--text-secondary)}.page-content{column-count:1}.text-content.loading{display:flex;align-items:center;justify-content:center;min-height:200px;color:var(--text-secondary)}@media(max-width:480px){.reader-content{padding:var(--spacing-sm) var(--spacing-md)}.controls-row{gap:var(--spacing-xs)}.btn-play{width:56px;height:56px}#speed-slider{width:100px}.page-nav-btn{width:36px;height:36px}.page-nav-prev{left:-4px}.page-nav-next{right:-4px}}@supports (padding-bottom: env(safe-area-inset-bottom)){.reader-controls{padding-bottom:calc(var(--spacing-md) + env(safe-area-inset-bottom))}}.upload-container{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);text-align:center}.upload-container h1{font-size:var(--font-size-2xl);font-weight:700;margin-bottom:var(--spacing-sm);color:var(--text-color)}.upload-container .subtitle{font-size:var(--font-size-base);color:var(--text-secondary);margin-bottom:var(--spacing-xl)}.upload-area{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:400px;padding:var(--spacing-xl);border:2px dashed var(--border-color);border-radius:var(--radius-lg);background-color:var(--surface-color);cursor:pointer;transition:border-color .2s ease,background-color .2s ease}.upload-area:hover,.upload-area.dragover{border-color:var(--primary-color);background-color:#4f46e50d}.upload-icon{color:var(--text-secondary);margin-bottom:var(--spacing-md)}.upload-area p{color:var(--text-secondary);margin-bottom:var(--spacing-sm)}.upload-area .or{font-size:var(--font-size-sm);color:var(--text-secondary);margin:var(--spacing-sm) 0}.error-message{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);margin-top:var(--spacing-lg);background-color:#fef2f2;border:1px solid #fecaca;border-radius:var(--radius-md);color:var(--error-color);font-size:var(--font-size-sm)}.error-message svg{flex-shrink:0}.nav-panel{position:fixed;top:0;left:0;bottom:0;width:320px;max-width:85vw;background-color:var(--surface-color);box-shadow:var(--shadow-lg);transform:translate(-100%);transition:transform .3s ease;z-index:200;overflow-y:auto;display:flex;flex-direction:column}.nav-panel.active{transform:translate(0)}.nav-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-lg);border-bottom:1px solid var(--border-color);flex-shrink:0}.nav-header h2{font-size:var(--font-size-lg);font-weight:600;margin:0}.nav-close-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:var(--spacing-xs);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:background-color .2s ease}.nav-close-btn:hover{background-color:var(--bg-color)}.nav-section{padding:var(--spacing-lg);border-bottom:1px solid var(--border-color)}.nav-section:last-child{border-bottom:none}.nav-section h3{font-size:var(--font-size-base);font-weight:600;margin:0 0 var(--spacing-md) 0;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.nav-list{display:flex;flex-direction:column;gap:var(--spacing-xs)}.nav-item{padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);cursor:pointer;transition:background-color .2s ease;display:flex;align-items:center;gap:var(--spacing-sm)}.nav-item:hover{background-color:var(--bg-color)}.nav-item.active{background-color:#4f46e51a;color:var(--primary-color);font-weight:500}.nav-item .chapter-number{color:var(--text-secondary);font-size:var(--font-size-sm);flex-shrink:0}.nav-item.active .chapter-number{color:var(--primary-color)}.nav-item .chapter-title{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-empty{padding:var(--spacing-lg);text-align:center;color:var(--text-secondary);font-size:var(--font-size-sm);font-style:italic}.bookmark-item{flex-direction:row;padding:var(--spacing-sm)}.bookmark-content{flex:1;display:flex;align-items:flex-start;gap:var(--spacing-sm);cursor:pointer}.bookmark-icon{font-size:18px;flex-shrink:0}.bookmark-details{flex:1;overflow:hidden}.bookmark-chapter{font-size:var(--font-size-sm);font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bookmark-note{font-size:var(--font-size-xs);color:var(--text-secondary);margin-top:2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bookmark-delete-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:var(--spacing-xs);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);transition:background-color .2s ease,color .2s ease;flex-shrink:0}.bookmark-delete-btn:hover{background-color:#fef2f2;color:var(--error-color)}#add-bookmark-btn{width:100%;margin-top:var(--spacing-md);display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.nav-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;z-index:199}.nav-overlay.active{opacity:1;visibility:visible}.qa-setup{width:100%;max-width:400px;margin-bottom:var(--spacing-lg)}.qa-setup-details{background-color:var(--surface-color);border:1px solid var(--border-color);border-radius:var(--radius-md);overflow:hidden}.qa-setup-summary{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md);cursor:pointer;-webkit-user-select:none;user-select:none}.qa-setup-summary::-webkit-details-marker{display:none}.qa-setup-title{font-weight:500;color:var(--text-color)}.qa-setup-status{font-size:var(--font-size-sm);color:var(--text-secondary);padding:2px 8px;background-color:var(--bg-color);border-radius:var(--radius-sm)}.qa-setup-status.configured{color:var(--success-color, #10b981);background-color:#10b9811a}.qa-setup-content{padding:var(--spacing-md);padding-top:0;border-top:1px solid var(--border-color)}.qa-setup-details[open] .qa-setup-content{padding-top:var(--spacing-md)}.qa-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background-color:#000000b3;z-index:300;padding:var(--spacing-lg);opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.qa-overlay.active{opacity:1;visibility:visible}.qa-dialog{width:100%;max-width:500px;max-height:90vh;background-color:var(--surface-color);border-radius:var(--radius-lg);display:flex;flex-direction:column;overflow:hidden}.qa-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color)}.qa-title{font-size:var(--font-size-lg);font-weight:600;margin:0}.qa-close-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:var(--spacing-xs);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);transition:background-color .2s ease}.qa-close-btn:hover{background-color:var(--bg-color)}.qa-content{flex:1;padding:var(--spacing-lg);overflow-y:auto}.qa-status-section{text-align:center;margin-bottom:var(--spacing-lg)}.qa-icon{display:flex;align-items:center;justify-content:center;height:64px;margin-bottom:var(--spacing-md);color:var(--primary-color)}.qa-icon-emoji{font-size:48px}.qa-icon svg{color:var(--primary-color)}.qa-status{font-size:var(--font-size-lg);font-weight:600;color:var(--text-color)}.qa-label{display:block;font-size:var(--font-size-sm);font-weight:500;color:var(--text-secondary);margin-bottom:var(--spacing-sm);text-transform:uppercase;letter-spacing:.05em}.qa-transcript-section,.qa-response-section,.qa-text-input-section,.qa-history-section{margin-bottom:var(--spacing-lg)}.qa-transcript,.qa-response{font-size:var(--font-size-base);color:var(--text-color);padding:var(--spacing-md);background-color:var(--bg-color);border-radius:var(--radius-md);min-height:60px;max-height:200px;overflow-y:auto;line-height:1.6}.qa-response{white-space:pre-wrap}.qa-text-input-wrapper{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.qa-text-input{flex:1;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-base);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--surface-color);color:var(--text-color)}.qa-text-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4f46e51a}.qa-submit-btn{flex-shrink:0}.qa-retry-voice-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.qa-history-nav{display:flex;align-items:center;justify-content:center;gap:var(--spacing-md);margin-bottom:var(--spacing-md)}.qa-history-counter{font-size:var(--font-size-sm);color:var(--text-secondary)}.qa-history-item{background-color:var(--bg-color);border-radius:var(--radius-md);padding:var(--spacing-md)}.qa-history-question{font-weight:500;margin-bottom:var(--spacing-sm);color:var(--text-color)}.qa-history-question:before{content:"Q: ";color:var(--primary-color)}.qa-history-answer{color:var(--text-secondary);font-size:var(--font-size-sm);line-height:1.5}.qa-history-answer:before{content:"A: ";color:var(--text-secondary);font-weight:500}.qa-controls{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);justify-content:center;align-items:center}.qa-controls .btn{min-width:auto}.qa-controls .btn:not(.btn-icon-text){min-width:100px}.btn-icon-text{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;padding:0;border-radius:var(--radius-full)}.btn-icon-text svg{flex-shrink:0}.qa-listening-animation{display:flex;align-items:center;justify-content:center;gap:6px;height:48px}.qa-listening-animation span{display:block;width:8px;height:8px;background-color:var(--primary-color);border-radius:50%;animation:listening-pulse 1.4s ease-in-out infinite}.qa-listening-animation span:nth-child(1){animation-delay:0s}.qa-listening-animation span:nth-child(2){animation-delay:.2s}.qa-listening-animation span:nth-child(3){animation-delay:.4s}@keyframes listening-pulse{0%,80%,to{transform:scale(1);opacity:.5}40%{transform:scale(1.5);opacity:1}}.toast{position:fixed;bottom:calc(var(--controls-height) + var(--spacing-lg));left:50%;transform:translate(-50%) translateY(100px);padding:var(--spacing-md) var(--spacing-lg);background-color:var(--text-color);color:#fff;border-radius:var(--radius-md);font-size:var(--font-size-sm);opacity:0;transition:transform .3s ease,opacity .3s ease;z-index:400}.toast.show{transform:translate(-50%) translateY(0);opacity:1}.progress-bar{width:100%;max-width:300px;height:8px;background-color:var(--border-color);border-radius:var(--radius-full);overflow:hidden;margin-top:var(--spacing-md)}.progress-bar-fill{height:100%;background-color:var(--primary-color);border-radius:var(--radius-full);transition:width .3s ease}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background-color:#00000080;z-index:300;padding:var(--spacing-lg);opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.modal-overlay.active{opacity:1;visibility:visible}.modal{width:100%;max-width:480px;max-height:90vh;background-color:var(--surface-color);border-radius:var(--radius-lg);overflow:hidden;display:flex;flex-direction:column}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color)}.modal-header h2{font-size:var(--font-size-lg);font-weight:600}.modal-content{flex:1;padding:var(--spacing-lg);overflow-y:auto}.modal-footer{padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:var(--spacing-sm)}.form-group{margin-bottom:var(--spacing-lg)}.form-group:last-child{margin-bottom:0}.form-group label{display:block;font-size:var(--font-size-sm);font-weight:500;margin-bottom:var(--spacing-sm);color:var(--text-color)}.form-input,.form-select,.form-group input[type=text],.form-group input[type=number],.form-group input[type=password],.form-group select{width:100%;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-base);border:1px solid var(--border-color);border-radius:var(--radius-md);background-color:var(--surface-color);color:var(--text-color)}.form-input:focus,.form-select:focus,.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4f46e51a}.form-hint{font-size:var(--font-size-sm);color:var(--text-secondary);margin-top:var(--spacing-xs)}.form-hint a{color:var(--primary-color);text-decoration:none}.form-hint a:hover{text-decoration:underline}.settings-section{margin-bottom:var(--spacing-xl)}.settings-section:last-child{margin-bottom:0}.settings-section h3{font-size:var(--font-size-base);font-weight:600;margin:0 0 var(--spacing-md) 0;color:var(--text-color);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.image-viewer-modal{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000000f2;z-index:400;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.image-viewer-modal.active{opacity:1;visibility:visible}.image-viewer-content{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.image-viewer-close-btn{position:absolute;top:20px;right:20px;z-index:10;background-color:#0009;color:#fff;border:none;border-radius:var(--radius-md);padding:var(--spacing-sm);cursor:pointer;transition:background-color .2s ease}.image-viewer-close-btn:hover{background-color:#000c}.image-viewer-controls{position:absolute;top:20px;left:20px;z-index:10;display:flex;gap:var(--spacing-xs)}.image-viewer-controls .btn-icon{background-color:#0009;color:#fff;border:none;border-radius:var(--radius-md);padding:var(--spacing-sm);cursor:pointer;transition:background-color .2s ease}.image-viewer-controls .btn-icon:hover{background-color:#000c}.image-viewer-canvas{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:default}.image-viewer-canvas img{max-width:90%;max-height:90%;object-fit:contain;transform-origin:center;transition:transform .1s ease-out;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.about-content{font-size:var(--font-size-sm);color:var(--text-secondary)}.about-info p{margin-bottom:var(--spacing-sm);line-height:1.6}.about-info p:last-child{margin-bottom:0}.about-info strong{color:var(--text-color);font-weight:600}.about-info code{font-family:Courier New,monospace;background-color:var(--border-color);padding:2px 6px;border-radius:var(--radius-sm);font-size:.9em}.btn-sm{padding:var(--spacing-xs) var(--spacing-md);font-size:var(--font-size-sm)}.render-progress{display:flex;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--text-secondary);font-size:var(--font-size-sm)}.render-progress span{background:var(--bg-color);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);border:1px solid var(--border-color)}.content-indicator{text-align:center;padding:var(--spacing-md);color:var(--text-secondary);font-size:var(--font-size-sm);font-style:italic;border:1px dashed var(--border-color);border-radius:var(--radius-md);margin:var(--spacing-md) 0;background:var(--bg-color)}
